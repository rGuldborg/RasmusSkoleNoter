## Maven (Build Tool)

- Bruges til at **bygge, teste og pakke Java-projekter**.
    
- Arbejder ud fra en **pom.xml** (Project Object Model).
    
- IntelliJ kan selv tilføje Maven-support til almindelige Java-projekter.
    

### Tjek Maven

```bash
which mvn      # finder hvor mvn ligger
mvn -v         # viser version
```


### Konverter projekt til Maven

1. Opret Java-projekt i IntelliJ.
    
2. Tryk `Ctrl+Shift+A` → vælg _Add Maven Support_.
    
3. IntelliJ genererer `pom.xml`.
    
4. Tilføj dependencies fx:
    
```xml
<dependencies>
  <dependency>
    <groupId>org.apache.commons</groupId>
    <artifactId>commons-lang3</artifactId>
    <version>3.12.0</version>
  </dependency>
</dependencies>
```

    
5. Klik på **reload Maven** (øverst til højre).
    

### Maven Lifecycle

Maven har standard-faser:

- `clean` → sletter _target_ folder.
    
- `validate` → tjekker `pom.xml`.
    
- `compile` → kompilerer Java-klasser.
    
- `test` → kører JUnit tests.
    
- `package` → pakker til fx `.jar` fil.
    
- `install` → installerer i lokal Maven repo.
    
- `deploy` → uploader til remote repo.
    

I IntelliJ findes et Maven-panel hvor du kan dobbeltklikke på faser.

### Køre projekt

Efter `mvn package`:

```bash
mvn package
cd target
java -jar myproject.jar
```


---

## Maven + Spring Boot

- Spring Boot projekter bruger Maven fra starten.
    
- `mvn package` bygger en **.jar** som kan startes med:
    
    `java -jar target/project.jar`
    
- Unittests laves med `@SpringBootTest`.
    

Eksempel:

`mvn clean mvn test`

- **clean** → sletter target.
    
- **test** → kører tests.
    

---

## GitHub Actions

Automatisering af **CI/CD** direkte i GitHub.

### Grundidé

- **Workflow** = defineret i `.github/workflows/*.yml`.
    
- **Event** = trigger (fx `push`, `pull_request`).
    
- **Job** = en serie af **steps**.
    
- **Steps** = enten `run:` (shell kommando) eller `uses:` (genbrug af eksisterende Action).
    

### Simpelt Workflow

Fil: `.github/workflows/simple.yml`

```yaml
name: Shell Commands
on: [push]

jobs:
  run-shell-command:
    runs-on: ubuntu-latest
    steps:
      - name: echo a string
        run: echo "Hello from GitHub Actions"
      - name: node version
        run: |
          node -v
          npm -v
```


### Workflow med Action

Fil: `.github/workflows/actions.yml`

```yaml
name: Actions Workflow
on: [push]

jobs:
  run-github-actions:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/hello-world-javascript-action@v1.1
        with:
          who-to-greet: 'Erik'
```


- `uses:` peger på en GitHub Action (repo).
    
- `with:` bruges til inputs.
    

---

## YAML basics (til Actions)

```yaml
name: Erik
age: 28
active: true

address:
  city: Roskilde
  street: Sankt Hans Vej

objects:
  - key: value
  - key2: value2

longText: |
  behold linjeskift
```

---

## Typisk flow

1. Push kode til GitHub.
    
2. GitHub Actions workflow starter.
    
3. Jobs køres på fx Ubuntu VM.
    
4. Output kan være:
    
    - kompileret jar-fil,
        
    - test-resultater,
        
    - deployment til cloud (fx Azure).